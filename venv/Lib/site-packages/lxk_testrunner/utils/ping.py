""" Python PING functions
"""

import re
import logging
from lxk_testrunner import PING_CMD
from lxk_testrunner.utils import system

LOGGER = logging.getLogger(__name__)
LOGGER.setLevel(logging.DEBUG)

def get_response(server, count=1):
    """
    DOCSTRING
    """
    LOGGER.debug(count)
    LOGGER.debug(server)
    assert isinstance(count, int), "must be {type_}".format(type_=int)
    assert isinstance(server, str), "must be {type_}".format(type_=str)

    reachable = True
    try:
        cmd = []
        cmd += PING_CMD
        cmd += [str(count), re.sub(r"https?://", "", server)]
        _ = system.execute(cmd)

    except system.CalledProcessError:
        reachable = False

    return reachable
