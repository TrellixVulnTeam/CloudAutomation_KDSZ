""" UPS as executable entry point """

import argparse
from lxk_universal_panel_step.ups import UPS

def main():
    """
    Docstring
    """
    docs = "Visit main docs at http://pydocs.lrdc.lexmark.com/packages/universal_panel_step"
    parser = argparse.ArgumentParser(
        epilog=docs,
        add_help=False
    )
    # printer
    printer = parser.add_argument_group(
        title="Target Printer",
    )
    printer.add_argument(
        "ipv4",
        action="store",
        help=argparse.SUPPRESS
    )
    # CLI help
    help_ = parser.add_argument_group()
    help_.add_argument(
        "-h",
        "--help",
        action="help",
        help=argparse.SUPPRESS
    )
    args = parser.parse_args()

    # prompt user
    step = input("step: ")
    if not step:
        return 1

    # instantiate and execute UPS
    ups = UPS(
        printer_ip=args.ipv4,
    )
    ups.initialize()
    ups.regex(step=step)

if __name__ == "__main__":
    main()
