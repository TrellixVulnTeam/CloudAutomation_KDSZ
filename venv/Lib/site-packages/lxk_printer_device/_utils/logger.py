"""
Logger
"""

import os
import logging
import logging.handlers
from lxk_printer_device._globals import LOG_FORMAT, PACKAGE_NAME

LOGGER = None

def create_logger(name=PACKAGE_NAME):
    """
    Create a LOGGER.
    """
    global LOGGER
    assert isinstance(name, str), "must be {type_}".format(type_=str)
    LOGGER = logging.getLogger(name)
    LOGGER.setLevel(logging.DEBUG)

def add_stream_handler():
    """
    Add a logging stream handleri (log to console).
    """
    shandle = logging.StreamHandler()
    shandle.setLevel(logging.INFO)
    LOGGER.addHandler(shandle)

def add_file_handler(filename, path="."):
    """
    Create a logging file handler (log to file).
    """
    assert isinstance(filename, str), "must be {type_}".format(type_=str)
    assert os.path.isdir(path), "path does not exist!"
    filepath = os.path.join(path, filename)
    fhandle = logging.FileHandler(filepath, mode="a")
    fhandle.setLevel(logging.DEBUG)
    formatter = logging.Formatter(LOG_FORMAT)
    fhandle.setFormatter(formatter)
    LOGGER.addHandler(fhandle)
