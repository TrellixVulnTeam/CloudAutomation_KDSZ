""" UPS wait actions.
"""
from lxk_testlib.panelnav.core import exceptions
from lxk_testlib.panelnav.core.models.actions import AbstractAction

class GenericWaitUntilFound(AbstractAction):
    """ UPS locator wait until found action.
    """

    def __init__(self):
        self.action = "wait_until_found"

    def get_phrase(self, *args, preset=None):
        """ Return action phrase.
        """
        return self.DO_PHRASE.format(action=self.action)

class GenericWaitUntilNotFound(AbstractAction):
    """ UPS locator wait until not found action.
    """

    def __init__(self):
        self.action = "wait_until_not_found:max_sec=%s"

    def get_phrase(self, *args, preset=None):
        """ Return action phrase.
        """
        try:
            return self.DO_PHRASE.format(
                action=self.action % (tuple(args))
            )
        except TypeError:
            raise exceptions.ActionArgumentsCountMismatch(
                self.ARG_MISMATCH.format(
                    given=args,
                    required=preset
                )
            )
