import os
import importlib
from lxk_testlib.panelnav.core import exceptions
from lxk_testlib.panelnav.core.enum import PanelSize
from lxk_testlib.panelnav.core.models.panel import Panel

BASE_DIR = os.path.dirname(os.path.realpath(__file__))

def get_panel(panelsize):
    if panelsize not in PanelSize.items():
        raise exceptions.PanelSizeNotSupported(panelsize)

    module = importlib.import_module(
        "lxk_testlib.panelnav.locators.%s" % panelsize
    )
    panel = Panel(module.home.screen)
    panel.reset_traversal()
    return panel
